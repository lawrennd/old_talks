\define{\talksdir}{/Users/neil/lawrennd/talks}
\define{\concat{argone}{argtwo}}{\argone\argtwo}
\define{\editme}{<a href="file://\talksdir\file">\file</a>}
\ifdef{ipynb} <!--ipynb-->

\define{\includegooglebook{id}{page}}{```
import pods
pods.notebook.display_google_book(id='\id', page='\page')
```}
\define{\includeyoutube{id}{width}{height}{time}}{```{.python}
from IPython.lib.display import YouTubeVideo
YouTubeVideo('\id')
```}

\define{\includempfour{filename}{width}{height}}{<video width="\width" height="\height" controls preload="none">
<source src="\filename" type="video/mp4"/>
</video>}
\define{\includegif{filename}{width}{class}}{<img class="\class" src="\filename" width="\width" style="background:none; border:none; box-shadow:none;">}
\define{\includeimg{filename}{width}{class}{align}}{<img class="\class" src="\filename" width="\width" height="auto" align="\align" style="background:none; border:none; box-shadow:none;">}
\define{\includeimgclip{filename}{clip}{width}{class}{align}}{<img class="\class" clip="\clip" src="\filename" width="\width" align="\align" style="background:none; border:none; box-shadow:none;">}
\define{\includesvg{filename}{align}{class}{style}}{<img src="\filename" class="\class" align="\align" style="\style">}
\define{\includesvgclass{filename}{class}{align}}{<img src="\filename" class="\class" align="\align" >}
\define{\includehtml{filename}{width}{height}}{<iframe src="\filename" width="\width" height="\height" allowtransparency="true" frameborder="0">
</iframe>}
\define{\speakernotes{text}}{}


\define{\section{text}}{## \text}
\define{\subsection{text}}{### \text}
\define{\fragment{text}{type}}{\text}
\define{\fragmentindex{text}{type}{index}}{\text}
\define{\notesfigure{block}}{}
\define{\caption{block}}{<center><i>\block</i></center>}


\define{\slidesmall{block}}{\block}
\define{\aligncenter{block}}{<center>\block</center>}
\define{\alignright{block}}{<span style="text-align:right">\block</span>}
\define{\alignleft{block}}{<span style="text-align:left">\block</span>}
\define{\largetext{block}}{<large>\block</large>}
\define{\smalltext{block}}{<small>\block</small>}
\define{\coloryellow{block}}{\block}
\define{\colorcyan{block}}{\block}
\define{\colormagenta{block}}{\block}
\define{\colorgreen{block}}{\block}
\define{\colorred{block}}{\block}
\define{\colorblue{block}}{\block}

\define{\columns{one}{two}{width1}{width2}}{<table><tr><td width="\width1">\one</td><td width="\width2">\two</td></tr></table>}

\define{\includecovariance{shortname}}{<table><tr><td width="45%">\includesvgclass{../slides/diagrams/kern/\concat{\shortname}{_covariance.svg}}<td width="45%">\includeimg{../slides/diagrams/kern/\concat{\shortname}{_covariance.gif}}{100%}{negate}{center}</td></tr></table>}


\ifdef{slides} <!-- ipynb and slides-->
\define{\slidenotes{slidetext}{notetext}}{\slidetext}

\define{\setupplotcode{block}}{```{.python}
\block
```}
\define{\plotcode{block}}{```{.python}
\block
```}
\define{\setupdisplaycode{block}}{```{.python}
\block
```}
\define{\displaycode{block}}{```{.python}
\block
```}
\define{\setupcode{block}}{}
\define{\loadcode{object}{filename}}{}
\define{\setuphelpercode{block}}{}
\define{\helpercode{block}}{}
\define{\code{block}}{}
\define{\matlabcode{block}}{}

\define{\notes{text}}{}
\define{\recommendation{text}}{}
\define{\writeassignment{text}{question}{marks}}{}
\define{\codeassignment{text}{question}{marks}}{}
\define{\exercise{text}{answerstub}{codestub}}{### Exercise

\text

}
\define{\slides{text}}{\text}
\define{\slidesincremental{text}}{::: incremental

\text

:::}
\define{\newslide{text}}{### \text
}


\else <!-- ipynb but not slides -->
\define{\slidenotes{slidetext}{notetext}}{\notetext}

<!--%%%%%%%%%% CODE DISPLAY %%%%%%%%%%-->

\define{\setupplotcode{block}}{}
\define{\plotcode{block}}{}
\define{\setupdisplaycode{block}}{```{.python}
\block
```}
\define{\displaycode{block}}{```{.python}
\block
```}
\define{\setupcode{block}}{```{.python}
\block
```}
\define{\loadcode{object}{filename}}{```{.python}
%load -s \object \filename.py
```}
\define{\setuphelpercode{block}}{```{.python}
\block
```}
\define{\helpercode{block}}{```{.python}
\block
```}
\define{\code{block}}{```{.python}
\block
```}
\define{\matlabcode{block}}{```{.matlab}
\block
```}

\define{\notes{text}}{\text}
\define{\recommendation{text}}{**Recommendation**: \text}
\define{\writeassignment{text}{question}{marks}}{### Question \question

\text

*\marks marks*

### Write your answer to Question \question here

}
\define{\codeassignment{text}{question}{marks}}{### Question \question

\text

*\marks marks*

```{.python}
# Write your answer to Question \question here

```

}
\define{\exercise{text}{answerstub}{codestub}}{### Exercise

\text

### Write your answer to Exercise here

\answerstub

```{.python}
# Use this box for any code you need for the exercise

\codestub

```
}


\define{\slides{text}}{}
\define{\slidesincremental{text}}{}
\define{\newslide{text}}{}

\endif 
\else <!--% not ipynb-->

\ifdef{notes}
\define{\includegooglebook{id}{page}}{[![](../slides/diagrams/books/\id-\page.png)](https://play.google.com/books/reader?id=\id&pg=\page)}
\define{\includeyoutube{id}{width}{height}{time}}{[![](https://img.youtube.com/vi/\id/0.jpg)](https://www.youtube.com/watch?v=\id&t=\time)}
\define{\includempfour{filename}{width}{height}}{<video width="\width" height="\height" controls preload="none">
<source src="\filename" type="video/mp4"/>
</video>}
\define{\slidenotes{slidetext}{notetext}}{\notetext}
\define{\includeimg{filename}{width}{class}{align}}{<img class="\class" src="\filename" width="\width" height="auto" align="\align" style="background:none; border:none; box-shadow:none; display:block; margin-left:auto; margin-right:auto">}
\define{\includeimgclip{filename}{clip}{width}{class}{align}}{<img class="\class" clip="\clip" src="\filename" width="\width" align="\align" style="background:none; border:none; box-shadow:none;">}
\define{\includegif{filename}{width}{class}}{<img class="\class" src="\filename" width="\width" style="background:none; border:none; box-shadow:none;">}
\define{\includesvg{filename}{align}{class}{style}}{<object class="svgplot \class" align="\align" data="\filename" style="\style"></object>}
\define{\includesvgclass{filename}{class}{align}}{<object class="\class" align="\align" data="\filename"></object>}
\define{\includehtml{filename}{width}{height}}{<iframe src="\filename" width="\width" height="\height" allowtransparency="true" frameborder="0">
</iframe>}
\define{\slides{text}}{}
\define{\slidesincremental{text}}{}
\define{\newslide{text}}{}
\define{\fragment{text}{type}}{\text}
\define{\fragmentindex{text}{type}{index}}{\text}
\define{\speakernotes{text}}{}
\define{\notes{text}}{\text}
\define{\recommendation{text}}{**Recommendation**: \text}
\define{\writeassignment{text}{question}{marks}{answerstub}}{### Question \question

\text

*\marks marks*

### Write your answer to Question \question here

\answerstub

}
\define{\codeassignment{text}{question}{marks}{answerstub}}{### Question \question

\text

*\marks marks*

```{.python}
# Write code for your answer to Question \question in this box
# provide the answers so that the code runs correctly otherwise you will loose marks!

\answerstub

```
}

\define{\exercise{text}{answerstub}{codestub}}{### Exercise

\text

### Write your answer to Exercise here

\answerstub

```{.python}
# Use this box for any code you need for the exercise

\codestub

```
}

\define{\section{text}}{## \text}
\define{\subsection{text}}{### \text}

\define{\code{block}}{```{.python}
\block
```}
\define{\helpercode{block}}{```{.python}
\block
```}
\define{\displaycode{block}}{}
\define{\plotcode{block}}{}
\define{\setupplotcode{block}}{}
\define{\setuphelpercode{block}}{}
\define{\matlabcode{block}}{```{.matlab}
\block
```}
\define{\setupcode{block}}{```{.python}
\block
```}

\define{\loadcode{object}{filename}}{```{.python}
from \filename import \object
```}
\define{\notesfigure{block}}{\block}
\define{\caption{block}}{<center>*\block *</center>}
\define{\slidesmall{block}}{\block}
\define{\aligncenter{block}}{<center>\block</center>}
\define{\alignright{block}}{<span style="text-align:right">\block</span>}
\define{\alignleft{block}}{<span style="text-align:left">\block</span>}
\define{\largetext{block}}{<large>\block</large>}
\define{\smalltext{block}}{<small>\block</small>}
\define{\coloryellow{block}}{\block}
\define{\colorcyan{block}}{\block}
\define{\colormagenta{block}}{\block}
\define{\colorgreen{block}}{\block}
\define{\colorred{block}}{\block}
\define{\colorblue{block}}{\block}

\define{\columns{one}{two}{width1}{width2}}{<table><tr><td width="\width1">\one</td><td width="\width2">\two</td></tr></table>}

\else <!--% not notes-->

\define{\includegooglebook{id}{page}}{<iframe frameborder="0" scrolling="no" style="border:0px" src='http://books.google.co.uk/books?id=\id&pg=\page&output=embed', width=700 height=500></iframe>}
\define{\includeyoutube{id}{width}{height}{time}}{<iframe width="\width" height="\height" src="https://www.youtube.com/embed/\id?start=\time" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>}
\define{\includempfour{filename}{width}{height}}{<video width="\width" height="\height" controls preload="none">
<source src="\filename" type="video/mp4"/>
</video>}
\define{\slidenotes{slidetext}{notetext}}{\slidetext}
\define{\includeimg{filename}{width}{class}{align}}{<img class="\class" src="\filename" width="\width" height="auto" align="\align" style="background:none; border:none; box-shadow:none;">}
\define{\includeimgclip{filename}{clip}{width}{class}{align}}{<img class="\class" clip="\clip" src="\filename" width="\width" height="auto" align="\align" style="background:none; border:none; box-shadow:none;">}
\define{\includegif{filename}{width}{class}}{<img class="\class" src="\filename" width="\width" style="background:none; border:none; box-shadow:none;">}
\define{\includesvg{filename}{align}{class}{style}}{<object class="svgplot \class" align="\align" data="\filename" style="\style"></object>}
\define{\includesvgclass{filename}{class}{align}}{<object class="\class" align="\align" data="\filename"></object>}
\define{\includehtml{filename}{width}{height}}{<iframe src="\filename" width="\width" height="\height" allowtransparency="true" frameborder="0">
</iframe>}
\define{\includepdf{filename}{page}{width}{height}}{<object data="\filename" type="application/pdf" width="\width" height="\height">
    <embed src="\filename" type="application/pdf">
        <p>This browser does not support PDF viewing. Please download the PDF to view it: <a href="\filename">Download PDF</a>.</p>
    </embed>
</object>}
\define{\includepdfclip{filename}{clip}{page}{width}{height}}{<object data="\filename" type="application/pdf" width="\width" height="\height">
    <embed src="\filename" type="application/pdf">
        <p>This browser does not support PDF viewing. Please download the PDF to view it: <a href="\filename">Download PDF</a>.</p>
    </embed>
</object>}


\define{\speakernotes{text}}{<aside class="notes">
\text
</aside>}
\define{\notes{text}}{}
\define{\recommendation{text}}{}
\define{\writeassignment{text}{question}{marks}}{}
\define{\codeassignment{text}{question}{marks}}{}
\define{\section{text}}{<!-- SECTION \text -->}
\define{\subsection{text}}{### \text}
\define{\slides{text}}{\text}
\define{\slidesincremental{text}}{::: incremental

\text

:::}
\define{\newslide{text}}{### \text
}

\define{\startslides{group}{start}{finish}}{<script>
showDivs(\start, '\group');
</script>
 <input id="range-\group" type="range" min="\start" max="\finish" value="\start" onchange="setDivs('\group')" oninput="setDivs('\group')">
<button onclick="plusDivs(-1, '\group')">❮</button>
<button onclick="plusDivs(1, '\group')">❯</button>
}
\define{\fragment{text}{type}}{<span class="fragment \type">\text</span>}
\define{\fragmentindex{text}{type}{index}}{<span class="fragment \type" data-fragment-index="\index">\text</span>}
\define{\code{block}}{}
\define{\matlabcode{block}}{}
\define{\setupcode{block}}{}
\define{\setupplotcode{block}}{}
\define{\setuphelpercode{block}}{}
\define{\loadcode{block}}{}
\define{\helpercode{block}}{}
\define{\plotcode{block}}{}
\define{\displaycode{block}}{}
\define{\notesfigure{block}}{}
\define{\caption{block}}{<center>*\block *</center>}
\define{\slidesmall{block}}{<small>\block</small>}
\define{\aligncenter{block}}{<center>\block</center>}
\define{\alignright{block}}{<span style="text-align:right">\block</span>}
\define{\alignleft{block}}{<span style="text-align:left">\block</span>}
\define{\largetext{block}}{<large>\block</large>}
\define{\smalltext{block}}{<small>\block</small>}
\define{\colorgreen{block}}{<font color="green">\block</font>}
\define{\coloryellow{block}}{<font color="yellow">\block</font>}
\define{\colorcyan{block}}{<font color="cyan">\block</font>}
\define{\colormagenta{block}}{<font color="magenta">\block</font>}
\define{\colorred{block}}{<font color="red">\block</font>}
\define{\colorblue{block}}{<font color="blue">\block</font>}

\define{\columns{one}{two}{width1}{width2}}{<table><tr><td width="\width1">\one</td><td width="\width2">\two</td></tr></table>}

\endif

\endif


\define{\includecovariance{shortname}}{<center>$$\formula$$</center><br><table><tr><td width="45%">\includesvgclass{../slides/diagrams/kern/\concat{\shortname}{_covariance.svg}}<td width="45%">\includeimg{../slides/diagrams/kern/\concat{\shortname}{_covariance.gif}}{100%}{negate}{center}</td></tr></table>}

\define{\div{contents}{class}{style}}{<div class="\class" style="\style">\contents</div>}
\define{\fragmentdiv{contents}{number}{style}}{<div class="fragment" data-fragment-index="\number" style="\style">\contents</div>}

\define{\linebreak}{<br>}


\define{\includejpg{filename}{width}{class}}{\div{\includeimg{\concat{\filename}{.jpg}}{\width}{\class}{center}}{}{text-align:center}}
\define{\includepng{filename}{width}{class}}{\div{\includeimg{\concat{\filename}{.png}}{\width}{\class}{center}}{}{text-align:center}}

\define{\comment}{}
